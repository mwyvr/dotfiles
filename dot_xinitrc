#!/bin/sh
# Xorg startup script for dwm
# for ID
. /etc/os-release
HOSTNAME=$(uname -n)
export XDG_CURRENT_DESKTOP="X-Generic"

case "$ID" in
void)
	# void isn't a systemd distribution
	pipewire &
	;;
opensuse-tumbleweed) ;;
debian) ;;
esac

# xrdb -merge ~/.config/xinit/.Xresources-${HOSTNAME}

<<<<<<< Updated upstream
case "$HOSTNAME" in
elron)
	# redshift &
	# sudo ddcutil -d 2 setvcp 60 0x0f
	# xrandr --output HDMI-A-1 --primary --output DisplayPort-2 --right-of HDMI-A-1
	;;
hoppy)
	# allow alacritty to scale same on elron (2 hidpi monitors) and laptop (1980x1080)
	export WINIT_X11_SCALE_FACTOR="1"
	;;
esac
=======
# case "$HOSTNAME" in
# elron)
# 	# allow alacritty to scale similarly to laptop
# 	export WINIT_X11_SCALE_FACTOR="1.5"
# 	# redshift &
# 	# sudo ddcutil -d 2 setvcp 60 0x0f
# 	# xrandr --output HDMI-A-1 --primary --output DisplayPort-2 --right-of HDMI-A-1
# 	;;
# # colour temp of screen
# lapin) ;;
# pika) ;;
# hoppy) ;;
# esac
export WINIT_X11_SCALE_FACTOR="1.5"
>>>>>>> Stashed changes

# init keyring
eval $(/usr/bin/gnome-keyring-daemon --start --components=gpg,pkcs11,secrets,ssh)
# export keyring globals
export GNOME_KEYRING_CONTROL GNOME_KEYRING_PID GPG_AGENT_INFO SSH_AUTH_SOCK

xset +dpms             # enable display power management system
xset dpms 300 600 1200 # standby, suspend, off; xset q to see values
xset s blank           # blank screen on time out
xset s 180 120         # blank tied to slock
xss-lock slock &       # set slock as the lock handler

picom -b --backend glx --vsync                           # picom is more than just eye candy
feh --no-fehbg --bg-center ~/.config/wallpaper/defaultbg # background
dunst &                                                  # notification daemon for X
slstatus &                                               # status bar updates
dbus-run-session dwm 2>~/.cache/dwm.log                  # start dwm in dbus session context
