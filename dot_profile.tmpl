#!/usr/bin/sh
# Generated by chezmoi https://github.com/mwyvr/dotfiles
#
# ~/.profile is read by login shells after /etc/profile, and should contain
# commands to be executed only at login time. ~/.shrc is set for both
# almquist-derived sh, and bash. 

test -z "$PROFILEREAD" && . /etc/profile || true

# There is, intentionally, no ~/.bash_profile on my systems.
if [ -f "$HOME/.bash_profile" ]; then
    rm $HOME/.bash_profile
fi

# add path(s)
if [ "$(id -u)" -ne 0 ]; then
	mkdir -p $HOME/go/bin 
	PATH="$PATH:$HOME/go/bin"
{{- if eq .chezmoi.osRelease.id "void" "chimera" }}
	PATH="$PATH:$HOME/.local/bin"
{{- end }}
    export PATH
	if [ -f "$HOME/.env" ]; then
		. $HOME/.env
	fi
fi

# if shell is bash, force it to use ~/.shrc rather than bashrc
echo $SHELL | grep -q bash 
if [ $? -eq 0 ]; then 
	export BASH_ENV=$HOME/.shrc
	. $HOME/.shrc
else
	export ENV=$HOME/.shrc
fi

export LIBVIRT_DEFAULT_URI="qemu:///system"
export XKB_DEFAULT_OPTIONS=ctrl:nocaps # wlr-roots

{{- if eq .chezmoi.osRelease.id "chimera" }}
# chimera doesn't ship neovim with LuaJIT
export EDITOR=hx 
{{ else }}
export EDITOR=nvim
{{- end }}
